{
    "$defs": {
        "ObservationVariable": {
            "properties": {
                "observationVariableDbId": {
                    "description": "Variable unique identifier\n\nMIAPPE V1.1 (DM-83) Variable ID - Code used to identify the variable in the data file. We recommend using a variable definition from the Crop Ontology where possible. Otherwise, the Crop Ontology naming convention is recommended: <trait abbreviation>_<method abbreviation>_<scale abbreviation>). A variable ID must be unique within a given investigation.",
                    "type": "string"
                },
                "commonCropName": {
                    "description": "Crop name (examples: \"Maize\", \"Wheat\")",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "contextOfUse": {
                    "description": "Indication of how trait is routinely used. (examples: [\"Trial evaluation\", \"Nursery evaluation\"])",
                    "items": {
                        "type": "string"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "defaultValue": {
                    "description": "Variable default value. (examples: \"red\", \"2.3\", etc.)",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "documentationURL": {
                    "description": "A URL to the human readable documentation of an object",
                    "format": "uri",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "growthStage": {
                    "description": "Growth stage at which measurement is made (examples: \"flowering\")",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "institution": {
                    "description": "Name of institution submitting the variable",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "language": {
                    "description": "2 letter ISO 639-1 code for the language of submission of the variable.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "observationVariableName": {
                    "description": "Variable name (usually a short name)\n\nMIAPPE V1.1 (DM-84) Variable name - Name of the variable.",
                    "type": "string"
                },
                "observationVariablePUI": {
                    "description": "The Permanent Unique Identifier of a Observation Variable, usually in the form of a URI",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "scientist": {
                    "description": "Name of scientist submitting the variable.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "status": {
                    "description": "Variable status. (examples: \"recommended\", \"obsolete\", \"legacy\", etc.)",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "submissionTimestamp": {
                    "description": "Timestamp when the Variable was added (ISO 8601)",
                    "format": "date-time",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "synonyms": {
                    "description": "Other variable names",
                    "items": {
                        "type": "string"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "studies": {
                    "title": "Studies",
                    "description": "",
                    "referencedAttribute": "observationVariables",
                    "relationshipType": "many-to-many",
                    "items": {
                        "$ref": "Study.json#/$defs/Study",
                        "description": "Study"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "observations": {
                    "title": "observations",
                    "description": "observations",
                    "referencedAttribute": "observationVariable",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "Observation.json#/$defs/Observation",
                        "description": "Observation"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "additionalInfo": {
                    "title": "additionalInfo",
                    "description": "A free space containing any additional information related to a particular object. A data source may provide any JSON object, unrestricted by the BrAPI specification.",
                    "referencedAttribute": "observationVariable",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "AdditionalInfo.json#/$defs/AdditionalInfo",
                        "description": "AdditionalInfo"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "externalReferences": {
                    "title": "externalReferences",
                    "description": "An array of external reference ids. These are references to this piece of data in an external system. Could be a simple string or a URI.",
                    "referencedAttribute": "observationVariable",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ExternalReference.json#/$defs/ExternalReference",
                        "description": "ExternalReference"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "method": {
                    "$ref": "ObservationVariable.json#/$defs/Method",
                    "description": "A description of the way an Observation should be collected. \n<br>For example, an ObservationVariable might be defined with a Trait of \"plant height\", a Scale of \"meters\", and a Method of \"tape measure\". This variable would be distinct from a variable with the Method \"estimation\" or \"drone image processing\". ",
                    "referencedAttribute": "observationVariables",
                    "relationshipType": "many-to-one"
                },
                "ontologyReference": {
                    "$ref": "OntologyReference.json#/$defs/OntologyReference",
                    "description": "MIAPPE V1.1\n\n(DM-85) Variable accession number - Accession number of the variable in the Crop Ontology\n\n(DM-87) Trait accession number - Accession number of the trait in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-89) Method accession number - Accession number of the method in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-93) Scale accession number - Accession number of the scale in a suitable controlled vocabulary (Crop Ontology).",
                    "referencedAttribute": "observationVariable",
                    "relationshipType": "one-to-one"
                },
                "scale": {
                    "$ref": "ObservationVariable.json#/$defs/Scale",
                    "description": "A Scale describes the units and acceptable values for an ObservationVariable. \n<br>For example, an ObservationVariable might be defined with a Trait of \"plant height\", a Scale of \"meters\", and a Method of \"tape measure\". This variable would be distinct from a variable with the Scale \"inches\" or \"pixels\".",
                    "referencedAttribute": "observationVariable",
                    "relationshipType": "many-to-one"
                },
                "trait": {
                    "$ref": "ObservationVariable.json#/$defs/Trait",
                    "description": "A Trait describes what property is being observed. \n<br>For example, an ObservationVariable might be defined with a Trait of \"plant height\", a Scale of \"meters\", and a Method of \"tape measure\". This variable would be distinct from a variable with the Trait \"Leaf length\" or \"Flower height\". ",
                    "referencedAttribute": "observationVariables",
                    "relationshipType": "mnay-to-one"
                }
            },
            "required": [
                "observationVariableName",
                "method",
                "trait",
                "observationVariableDbId",
                "scale"
            ],
            "title": "ObservationVariable",
            "type": "object"
        },
        "Method": {
            "properties": {
                "methodDbId": {
                    "description": "Method unique identifier",
                    "type": "string"
                },
                "bibliographicalReference": {
                    "description": "Bibliographical reference describing the method.\n<br/>MIAPPE V1.1 (DM-91) Reference associated to the method - URI/DOI of reference describing the method.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "description": {
                    "description": "Method description\n<br/>MIAPPE V1.1 (DM-90) Method description - Textual description of the method, which may extend a method defined in an external reference with specific parameters, e.g. growth stage, inoculation precise organ (leaf number)",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "formula": {
                    "description": "For computational methods i.e., when the method consists in assessing the trait by computing measurements, write the generic formula used for the calculation",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "methodClass": {
                    "description": "Method class (examples: \"Measurement\", \"Counting\", \"Estimation\", \"Computation\", etc.)",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "methodName": {
                    "description": "Human readable name for the method\n<br/>MIAPPE V1.1 (DM-88) Method  Name of the method of observation",
                    "type": "string"
                },
                "methodPUI": {
                    "description": "The Permanent Unique Identifier of a Method, usually in the form of a URI",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "observationVariables": {
                    "title": "observationVariables",
                    "description": "List of observation variables unsing this method",
                    "referencedAttribute": "method",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ObservationVariable",
                        "description": "ObservationVariable"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "additionalInfo": {
                    "title":  "additionalInfo",
                    "description": "A description of the way an Observation should be collected. \n<br>For example, an ObservationVariable might be defined with a Trait of \"plant height\", a Scale of \"meters\", and a Method of \"tape measure\". This variable would be distinct from a variable with the Method \"estimation\" or \"drone image processing\". ",
                    "referencedAttribute": "method",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "observationVariable.json#/$defs/AdditionalInfo",
                        "description": "AdditionalInfo"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "externalReferences": {
                    "title": "externalReferences",
                    "description": "An array of external reference ids. These are references to this piece of data in an external system. Could be a simple string or a URI.",
                    "referencedAttribute": "method",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ExternalReference",
                        "description": "ExternalReference"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "ontologyReference": {
                    "$ref": "ObservationVariable.json#/$defs/OntologyReference",
                    "description": "MIAPPE V1.1\n\n(DM-85) Variable accession number - Accession number of the variable in the Crop Ontology\n\n(DM-87) Trait accession number - Accession number of the trait in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-89) Method accession number - Accession number of the method in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-93) Scale accession number - Accession number of the scale in a suitable controlled vocabulary (Crop Ontology).",
                    "referencedAttribute": "method",
                    "relationshipType": "one-to-one"
                }
            },
            "required": [
                "methodDbId",
                "methodName"
            ],
            "title": "Method",
            "type": "object"
        },
        "Scale": {
            "properties": {
                "scaleDbId": {
                    "description": "Unique identifier of the scale. If left blank, the upload system will automatically generate a scale ID.",
                    "type": "string"
                },
                "dataType": {
                    "description": "<p>Class of the scale, entries can be</p>\n<p>\"Code\" -  This scale class is exceptionally used to express complex traits. Code is a nominal scale that combines the expressions of the different traits composing the complex trait. For example a severity trait might be expressed by a 2 digit and 2 character code. The first 2 digits are the percentage of the plant covered by a fungus and the 2 characters refer to the delay in development, e.g. \"75VD\" means \"75 %\" of the plant is infected and the plant is very delayed.</p>\n<p>\"Date\" - The date class is for events expressed in a time format, See ISO 8601</p>\n<p>\"Duration\" - The Duration class is for time elapsed between two events expressed in a time format, e.g. days, hours, months</p>\n<p>\"Nominal\" - Categorical scale that can take one of a limited and fixed number of categories. There is no intrinsic ordering to the categories</p>\n<p>\"Numerical\" - Numerical scales express the trait with real numbers. The numerical scale defines the unit e.g. centimeter, ton per hectare, branches</p>\n<p>\"Ordinal\" - Ordinal scales are scales composed of ordered categories</p>\n<p>\"Text\" - A free text is used to express the trait.</p>",
                    "enum": [
                        "Code",
                        "Date",
                        "Duration",
                        "Nominal",
                        "Numerical",
                        "Ordinal",
                        "Text",
                        null
                    ],
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "decimalPlaces": {
                    "description": "For numerical, number of decimal places to be reported",
                    "type": [
                        "null",
                        "integer"
                    ]
                },
                "scaleName": {
                    "description": "Name of the scale\n<br/>MIAPPE V1.1 (DM-92) Scale Name of the scale associated with the variable",
                    "type": "string"
                },
                "scalePUI": {
                    "description": "The Permanent Unique Identifier of a Scale, usually in the form of a URI",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "units": {
                    "description": "This field can be used to describe the units used for this scale. This should be the abbreviated \nform of the units, intended to be displayed with every value using this scale. Usually this only \napplies when `dataType` is Numeric, but could also be included for other dataTypes when applicable.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "observationVariable": {
                    "title": "observationVariable",
                    "description": "List of observation variables using this scale",
                    "referencedAttribute": "scale",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ObservationVariable",
                        "description": "ObservationVariable"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "additionalInfo": {
                    "title": "additionalInfo",
                    "description": "A free space containing any additional information related to a particular object. A data source may provide any JSON object, unrestricted by the BrAPI specification.",
                    "referencedAttribute": "scale",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/AdditionalInfo",
                        "description": "AdditionalInfo"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "externalReferences": {
                    "title": "externalReferences",
                    "description": "An array of external reference ids. These are references to this piece of data in an external system. Could be a simple string or a URI.",
                    "referencedAttribute": "scale",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ExternalReference",
                        "description": "ExternalReference"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "ontologyReference": {
                    "$ref": "ObservationVariable.json#/$defs/OntologyReference",
                    "description": "MIAPPE V1.1\n\n(DM-85) Variable accession number - Accession number of the variable in the Crop Ontology\n\n(DM-87) Trait accession number - Accession number of the trait in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-89) Method accession number - Accession number of the method in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-93) Scale accession number - Accession number of the scale in a suitable controlled vocabulary (Crop Ontology).",
                    "referencedAttribute": "scale",
                    "relationshipType": "one-to-one"
                },
                "validValues": {
                    "$ref": "ObservationVariable.json#/$defs/ValidValue",
                    "description": "Valid values for this scale",
                    "referencedAttribute": "scales",
                    "relationshipType": "many-to-one"
                }
            },
            "required": [
                "scaleDbId",
                "scaleName"
            ],
            "title": "Scale",
            "type": "object"
        },
        "ValidValue": {
            "properties": {
                "validValueDbId": {
                    "description": "the unique identifier for a valid value",
                    "type": "string"
                },
                "maximumValue": {
                    "description": "Maximum value for numerical, date, and time scales. Typically used for data capture control and QC.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "minimumValue": {
                    "description": "Minimum value for numerical, date, and time scales. Typically used for data capture control and QC.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "categories": {
                    "title": "categories",
                    "description": "List of possible values with optional labels",
                    "referencedAttribute": "validValues",
                    "relationshipType": "many-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/Category",
                        "description": "Category"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "scales": {
                    "title": "scales",
                    "description": "List of scales using this valid values",
                    "referencedAttribute": "validValues",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/Scale",
                        "description": "Scale"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                }
            },
            "required": [
                "validValueDbId"
            ],
            "title": "ValidValue",
            "type": "object"
        },
        "Category": {
            "properties": {
                "categorieDbId": {
                    "description": "the unique identifier for a category"
                },
                "label": {
                    "description": "A text label for a category",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "value": {
                    "description": "The actual value for a category",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "validValues": {
                    "title": "validValues",
                    "description": "List of valid values using this category",
                    "referencedAttribute": "categories",
                    "relationshipType": "many-to-many",
                    "items": {
                        "$ref": "ObservationVariable.sjon#/$defs/ValidValue",
                        "description": "ValidValue"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                }
            },
            "required": [
                "categorieDbId"
            ],
            "title": "Category",
            "type": "object"
        },
        "Trait": {
            "properties": {
                "traitDbId": {
                    "description": "The ID which uniquely identifies a trait",
                    "type": "string"
                },
                "alternativeAbbreviations": {
                    "description": "A list of shortened, human readable, names for a Trait. These abbreviations are acceptable alternatives to the mainAbbreviation and do not need to follow any formatting convention.",
                    "items": {
                        "type": "string"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "attribute": {
                    "description": "A trait can be decomposed as \"Trait\" = \"Entity\" + \"Attribute\", the attribute is the observed feature (or characteristic) of the entity e.g., for \"grain colour\", attribute = \"colour\"",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "attributePUI": {
                    "description": "The Permanent Unique Identifier of a Trait Attribute, usually in the form of a URI\n<br/>A trait can be decomposed as \"Trait\" = \"Entity\" + \"Attribute\", the attribute is the observed feature (or characteristic) of the entity e.g., for \"grain colour\", attribute = \"colour\"",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "entity": {
                    "description": "A trait can be decomposed as \"Trait\" = \"Entity\" + \"Attribute\", the entity is the part of the plant that the trait refers to e.g., for \"grain colour\", entity = \"grain\"",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "entityPUI": {
                    "description": "The Permanent Unique Identifier of a Trait Entity, usually in the form of a URI\n<br/>A Trait can be decomposed as \"Trait\" = \"Entity\" + \"Attribute\", the Entity is the part of the plant that the trait refers to e.g., for \"grain colour\", entity = \"grain\" ",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "mainAbbreviation": {
                    "description": "A shortened version of the human readable name for a Trait",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "status": {
                    "description": "Trait status (examples: \"recommended\", \"obsolete\", \"legacy\", etc.)",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "synonyms": {
                    "description": "Other trait names",
                    "items": {
                        "type": "string"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "traitClass": {
                    "description": "A classification to describe the type of trait and the context it should be considered in.\n<br/> examples- \"morphological\", \"phenological\", \"agronomical\", \"physiological\", \"abiotic stress\", \"biotic stress\", \"biochemical\", \"quality traits\", \"fertility\", etc.",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "traitDescription": {
                    "description": "The description of a trait",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "traitName": {
                    "description": "The human readable name of a trait\n<br/>MIAPPE V1.1 (DM-86) Trait - Name of the (plant or environmental) trait under observation",
                    "type": "string"
                },
                "traitPUI": {
                    "description": "The Permanent Unique Identifier of a Trait, usually in the form of a URI",
                    "type": [
                        "null",
                        "string"
                    ]
                },
                "observationVariables": {
                    "title": "observationVariables",
                    "description": "List of observation variables observing this trait",
                    "referencedAttribute": "trait",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ObservationVariable",
                        "description": "ObservationVariable"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "additionalInfo": {
                    "title": "additionalInfo",
                    "description": "A free space containing any additional information related to a particular object. A data source may provide any JSON object, unrestricted by the BrAPI specification.",
                    "referencedAttribute": "trait",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/AdditionalInfo",
                        "description": "AdditionalInfo"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "externalReferences": {
                    "title": "externalReferences",
                    "description": "An array of external reference ids. These are references to this piece of data in an external system. Could be a simple string or a URI.",
                    "referencedAttribute": "trait",
                    "relationshipType": "one-to-many",
                    "items": {
                        "$ref": "ObservationVariable.json#/$defs/ExternalReference",
                        "description": "ExternalReference"
                    },
                    "type": [
                        "null",
                        "array"
                    ]
                },
                "ontologyReference": {
                    "$ref": "ObservationVariable.json#/$defs/OntologyReference",
                    "description": "MIAPPE V1.1\n\n(DM-85) Variable accession number - Accession number of the variable in the Crop Ontology\n\n(DM-87) Trait accession number - Accession number of the trait in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-89) Method accession number - Accession number of the method in a suitable controlled vocabulary (Crop Ontology, Trait Ontology).\n\n(DM-93) Scale accession number - Accession number of the scale in a suitable controlled vocabulary (Crop Ontology).",
                    "referencedAttribute": "trait",
                    "relationshipType": "one-to-one"
                }
            },
            "required": [
                "traitDbId",
                "traitName"
            ],
            "title": "Trait",
            "type": "object"
        }
    },
    "$id": "https://brapi.org/Specification/BrAPI-Schema/BrAPI-Phenotyping/ObservationVariable.json",
    "$schema": "http://json-schema.org/draft/2020-12/schema"
}